<!DOCTYPE html>
<html>
<head>
	<title>สศอ</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="assets/images/logo2.png">

    <link href="assets/bootstrap-5.0.1/css/bootstrap.min.css" rel="stylesheet" >
    <link href="assets/plugins/mscrollbar/jquery.mCustomScrollbar.css" rel="stylesheet"/>
    <link href="assets/plugins/sidebar/sidebar.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/sidemenu.css">
    <link rel="stylesheet" type="text/css" href="assets/plugins/select2/css/select2.min.css">
    <link href="assets/plugins/summernote/summernote-lite.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<!-- <body class="main-body app sidebar-mini "> -->
<body class="main-body app sidebar-mini sidenav-toggled">

	<div class="page">
		<div class="app-sidebar__overlay" data-toggle="sidebar"></div>
		<aside class="app-sidebar sidebar-scroll">
			<div class="main-sidebar-header p-3 active">
				<a class="desktop-logo active" href="">
					<img src="assets/images/logo3.png" class="main-logo" alt="logo">
				</a>
				<a class="logo-icon mobile-logo py-3 icon-light active" href="">
					<img src="assets/images/logo2.png" class="logo-icon mx-auto" alt="logo">
				</a>
			</div>
			<div class="main-sidemenu">
				<ul class="side-menu">
					<li class="slide">
						<a class="side-menu__item py-2 active"  href="#">
							<img src="assets/images/icon/entypo_bar-graph.png" class="side-menu__icon">
							<span class="side-menu__label">Dashbord</span>
						</a>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"  href="#">
							<img src="assets/images/icon/fluent_people-20-filled.png" class="side-menu__icon">
							<span class="side-menu__label">งานของฉัน</span>
						</a>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"   data-toggle="slide" href="#">
							<img src="assets/images/icon/jam_write-f.png" class="side-menu__icon">
							<span class="side-menu__label">โครงการ</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">ข้อเสนอโครงการ</a></li>
							<li><a class="slide-item py-2" href="/">คำของบประมาณ</a></li>
						</ul>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"  href="#">
							<img src="assets/images/icon/mdi_email-newsletter.png" class="side-menu__icon">
							<span class="side-menu__label">ข่าวประชาสัมพันธ์</span>
						</a>
					</li>

				</ul>
			</div>
		</aside>
		<div class="main-content app-content">
			
			<nav class="navbar fixed-top navbar-st-1">
			  <div class="container-fluid">
			    <div class="app-sidebar__toggle mx-0" data-toggle="sidebar">
					<a class="open-toggle" href="#"></i></a>
					<a class="close-toggle" href="#"></a>
				</div>

		
			    <div class="dropdown">
				  <a class="btn  dropdown-toggle-1 pe-5" href="#" role="button" id="" data-bs-toggle="dropdown" aria-expanded="false">
				  	<div class="d-flex align-items-center">
				  		<img src="assets/images/Avatar.png" class="Avatar">
				  		<div class="text-color-6 fs-14 spacing-1 ms-2">พีรยา ปัญญาโชจน์</div>
				  	</div>
				  </a>
				  <ul class="dropdown-menu" >
				    <li><a class="dropdown-item text-color-6 fs-14 spacing-1 ms-2" href="#">ออกจากระบบ</a></li>
				  </ul>
				</div>
			  </div>
			</nav>
			<div class="container-fluid">
				<div class="px-3">
					<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" >
					  <ol class="breadcrumb fs-16">
					    <li class="breadcrumb-item "><a href="#" class="text-color-7 fw-500 text-decoration-none">Dashbord</a></li>
					    <li class="breadcrumb-item"><a href="#" class="fw-500 text-color-8 text-decoration-none">โครงการทั้งหมด</a></li>
					    <li class="breadcrumb-item active text-color-1 fw-500" aria-current="page">เพิ่มโครงการใหม่</li>
					  </ol>
					</nav>
				</div>
			</div>

			<div class="sticky" data-sticky-class="step-sticky">
				<div class="container-fluid">
					<div class="my-4 ">
						<div class="row">
							<div class="col-xl-9 col-12">
								<ul class="steps-2">
									<li class="step-1 active ">
										<div class="step-icon">1</div>
										<div class="step-name">รายละเอียดหลัก</div>
									</li>
									<li class="step-2 active ">
										<div class="step-icon">2</div>
										<div class="step-name">หลักการและเหตุผล</div>
									</li>
									<li class="step-3  ">
										<div class="step-icon">3</div>
										<div class="step-name">การดำเนินงาน</div>
									</li>
									<li class="step-4  ">
										<div class="step-icon">4</div>
										<div class="step-name">สถานที่/ประมาณการ</div>
									</li>
									<li class="step-5  ">
										<div class="step-icon">5</div>
										<div class="step-name">ผู้รับผิดชอบ</div>
									</li>
									<li class="step-6  ">
										<div class="step-icon">6</div>
										<div class="step-name">ดำเนินการสำเร็จ</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="container-fluid">


				<div class="row">
					<div class="col">

						<div class="card card-st-3  mb-4">
							<div class="card-body p-4">
								<div class="fs-24 mb-2">
									<span class="fw-bold text-color-1">ข้อเสนอโครงการ</span>
									<span class="text-color-9">(หน้า 2/6)</span>
								</div>
								<div class="fs-15 mb-3 text-color-8">กรุณากรอกข้อมูลเพื่อสร้างข้อเสนอโครงการ  </div>

								<div class="fs-15 mb-4 text-danger">*จำเป็นต้องกรอก  </div>

								<form class="needs-validation" novalidate>

									<div class="mb-5">
										<div class="mb-5 row align-items-lg-center" id="el1">
											<div class="col-12">
												<label class=" fs-18  text-color-1 fw-bold mb-4">3.หลักการและเหตุผล <span class="text-color-9 fs-14">(ที่มา สภาพปัญหา ความจำเป็นเร่งด่วน)</span></label>
												<div class="px-3">
													<textarea id="summernote2" name=""></textarea>
												</div>
											</div>
										</div>

										<div class="mb-5 row align-items-lg-center" id="el2">
											<div class="col-12">
												<label class=" fs-18  text-color-1 fw-bold mb-4">4.วัตถุประสงค์ </label>
												<div class="px-3 title-g" id="title-g-1">
													<div class="g-input mb-3">
														<div class="row g-0 align-items-center">
															<div class="col-auto">
																<div class="inputnumber">4.<span class="subnumber">1</span></div>
															</div>
															<div class="col px-3">
																<input type="text" name="" class="form-control form-st-1"  placeholder="กรุณากรอกวัตถุประสงค์">
															</div>
															<div class="col-auto">
																<button class="btn btn-st-7 btn-link btn-delete-input invisible"></button>
															</div>
														</div>
													</div>

													<button type="button" class="btn btn-st-6 btn-link btn-addInput ms-5">เพิ่มวัตถุประสงค์</button>
													
												</div>
											</div>
										</div>

										<div class="mb-5 row align-items-lg-center" id="el3">
											<div class="col-12">
												<label class=" fs-18  text-color-1 fw-bold mb-4">5.กลุ่มเป้าหมาย </label>
												<div class="px-3 title-g" id="title-g-2" >
													<div class="g-input mb-3">
														<div class="row g-0 align-items-center">
															<div class="col-auto">
																<div class="inputnumber">5.<span class="subnumber">1</span></div>
															</div>
															<div class="col px-3">
																<input type="text" name="" class="form-control form-st-1"  placeholder="กรุณากรอกกลุ่มเป้าหมาย">
															</div>
															<div class="col-auto">
																<button class="btn btn-st-7 btn-link btn-delete-input invisible"></button>
															</div>
														</div>
													</div>

													<button type="button" class="btn btn-st-6 btn-link btn-addInput ms-5">เพิ่มกลุ่มเป้าหมาย</button>
													
												</div>
											</div>
										</div>


										<div class="mb-3 row align-items-lg-center" id="el4">
											<div class="col-12">
												<label class=" fs-18  text-color-1 fw-bold mb-4">6.ตัวชี้วัดโครงการ <span class="text-color-9 fs-14">(ต้องชัดเจนและสามารถวัดความสำเร็จได้)</span>
												<span class="text-danger">*</span></label>
												<div class="title-g mb-5" id="title-g-3" data-title="measure">
													<table class="table   fs-14">
														<thead>
															<tr>
																<th class="border" width="5%"></th>
																<th class="border" width="40%">ตัวชี้วัดระดับผลผลิต</th>
																<th class="border" width="20%">จำนวน</th>
																<th class="border" width="20%">หน่วยนับ</th>
																<th class="border-0 border-top-0" width="5%"></th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td class="border">
																	<div class="inputnumber-s2 text-center">1</div>
																</td>
																<td class="border">
																	<textarea class="form-control form-st-1 mb-3" rows="4" required=""></textarea>

																	<div class="d-flex flex-wrap align-items-center">
																		<div class="mb-2 me-3 fs-14">ตัวชี้วัดตาม :</div>
																		<div class="me-2 mb-2 measure-g1">
																			<input type="checkbox" class="btn-check" name="measure" id="measure-c-c1" autocomplete="off" checked>
																			<label class="btn btn-check-st-1" for="measure-c-c1">โครงการ</label>
																		</div>
																		<div class="me-2 mb-2 measure-g2">
																			<input type="checkbox" class="btn-check" name="measure" id="measure-c-c2" autocomplete="off" >
																			<label class="btn btn-check-st-1" for="measure-c-c2">พรบ.งบฯ</label>
																		</div>
																	</div>
																</td>
																<td class="border">
																	<input type="text" name="" class="form-control form-st-1 text-center validateNumber"  placeholder="จำนวน" required="">
																</td>
																<td class="border">
																	<select class="form-control form-st-1 form-select" required="">
																		<option value="" selected=""></option>
																		<option value="กิจการ">กิจการ</option>
																	</select>
																</td>
																<td class="border-0 pt-3">
																	<button class="btn btn-st-7 btn-link btn-delete-input invisible"></button>
																</td>
															</tr>

														</tbody>
													</table>

													<button type="button" class="btn btn-st-6 btn-link btn-addInput-table ms-5">เพิ่มตัวชี้วัดระดับผลผลิต</button>

												</div>

												<div class="title-g" id="title-g-4" data-title="measureresult">
													<table class="table   fs-14">
														<thead>
															<tr>
																<th class="border" width="5%"></th>
																<th class="border" width="40%">ตัวชี้วัดระดับผลลัพธ์</th>
																<th class="border" width="20%">จำนวน</th>
																<th class="border" width="20%">หน่วยนับ</th>
																<th class="border-0 border-top-0" width="5%"></th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td class="border">
																	<div class="inputnumber-s2 text-center">1</div>
																</td>
																<td class="border">
																	<textarea class="form-control form-st-1 mb-3" rows="4" required=""></textarea>

																	<div class="d-flex flex-wrap align-items-center">
																		<div class="mb-2 me-3 fs-14">ตัวชี้วัดตาม :</div>
																		<div class="me-2 mb-2 measure-g1">
																			<input type="checkbox" class="btn-check" name="measureresult" id="measureresult-c-c1" autocomplete="off" checked>
																			<label class="btn btn-check-st-1" for="measureresult-c-c1">โครงการ</label>
																		</div>
																		<div class="me-2 mb-2 measure-g2">
																			<input type="checkbox" class="btn-check" name="measureresult" id="measureresult-c-c2" autocomplete="off" >
																			<label class="btn btn-check-st-1" for="measureresult-c-c2">พรบ.งบฯ</label>
																		</div>
																	</div>
																</td>
																<td class="border">
																	<input type="text" name="" class="form-control form-st-1 text-center validateNumber"  placeholder="จำนวน" required="">
																</td>
																<td class="border">
																	<select class="form-control form-st-1 form-select" required="">
																		<option value="" selected=""></option>
																		<option value="กิจการ">กิจการ</option>
																	</select>
																</td>
																<td class="border-0 pt-3">
																	<button class="btn btn-st-7 btn-link btn-delete-input invisible"></button>
																</td>
															</tr>

														</tbody>
													</table>

													<button type="button" class="btn btn-st-6 btn-link btn-addInput-table ms-5">เพิ่มตัวชี้วัดระดับผลลัพธ์</button>

												</div>

											</div>
										</div>


									</div>


										

									<div class="text-center d-flex  flex-wrap">
										<a class="btn btn-st-4 mx-2 mb-3 me-auto">ก่อนหน้า</a>
										<button class="btn btn-st-5 mx-2 mb-3 ">บันทึกแบบร่าง</button>
										<button class="btn btn-st-2 ms-2 mb-3 ">ขั้นตอนถัดไป</button>
									</div>

								</form>
							</div>
						</div>
					</div>
					<div class="col-auto">
						<div style="width: 280px;">
							<div class="sticky" data-sticky-class="card-title-sticky">
								<div class="card card-st-3 mb-4">
									<div class="card-body p-3 pe-4">
										<ul id="progress" class="ps-2">
											<li data-elId="#el1"><div class="node activated"></div><p>หลักการและเหตุผล</p></li>
											<li><div class="divider  grey"></div></li>
										    <li data-elId="#el2"><div class="node "></div><p>วัตถุประสงค์</p></li>
										    <li><div class="divider  grey"></div></li>
										    <li data-elId="#el3"><div class="node  "></div><p>กลุ่มเป้าหมาย</p></li>
										    <li><div class="divider grey"></div></li>
										    <li data-elId="#el4"><div class="node "></div><p>ตัวชี้วัดโครงการ</p></li>
										</ul>
									</div>
								</div>
								<div class="card card-st-3 mb-4">
									<div class="card-body p-3 pe-4">

										<div class="mb-2">
											<div class="row g-2">
												<div class="col-lg-6 mb-2  text-color-9 fw-light">รหัสโครงการ</div>
												<div class="col-lg-6 mb-2 text-color-11 fw-bolder">PIEO64/001</div>
											</div>
										</div>
										<div class="mb-2">
											<div class="row g-2">
												<div class="col-lg-6 mb-2  text-color-9 fw-light">วันที่สร้าง</div>
												<div class="col-lg-6 mb-2 text-color-11 fw-bolder">01-03-2565</div>
											</div>
										</div>
										<div class="mb-2">
											<div class="row g-2">
												<div class="col-lg-6 mb-2  text-color-9 fw-light">อ้างอิง</div>
												<div class="col-lg-6 mb-2 text-color-11 fw-bolder">-</div>
											</div>
										</div>
										<div class="mb-2">
											<div class="row g-2">
												<div class="col-lg-6 mb-2  text-color-9 fw-light">แก้ไขล่าสุด</div>
												<div class="col-lg-6 mb-2 text-color-11 fw-bolder">01-03-2565</div>
											</div>
										</div>
										<div class="mb-2">
											<div class="row g-2">
												<div class="col-lg-auto mb-2  text-color-9 fw-light">ผู้สร้าง</div>
												<div class="col mb-2 text-color-11 fw-bolder">น.ส. เบญจวรรณ บัวพิทักษ์1</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>


	<div class="modal fade" id="confirmModal" tabindex="-1"  aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" style="max-width: 420px;">
	    <div class="modal-content " style="border-radius: 15px;">

	      <div class="modal-body pb-4">
	      	<div class="text-end">
	      		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	      	</div>
	        
	        <div class="text-center text-color-1 fs-18 fw-500 pt-4 mb-5 pb-3">กรุณากรอกข้อมูลที่จำเป็นให้ครบถ้วน ?</div>


	        <div class="text-center d-flex flex-wrap justify-content-center">
	        	<button type="button" class="btn btn-st-3 mx-2 mb-3 order-1 order-sm-0" data-bs-dismiss="modal">ยกเลิก</button>
	        	<a href="" class="btn btn-st-2 mx-2  mb-3 order-0 order-sm-1">ยืนยัน</a>
	        </div>

	      </div>
	    </div>
	  </div>
	</div>

	<!-- End Page -->

	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script src="assets/plugins/moment/moment.js"></script>
	<script src="assets/bootstrap-5.0.1/js/bootstrap.bundle.min.js" ></script> 
	<script src="assets/plugins/mscrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="assets/plugins/side-menu/sidemenu.js"></script>
	<script src="assets/plugins/sidebar/sidebar.js"></script>
	<script src="assets/plugins/sidebar/sidebar-custom.js"></script>
	<script src="assets/plugins/select2/js/select2.min.js" ></script> 
	<script src="assets/plugins/summernote/summernote-lite.js"></script>
	<script src="assets/js/sticky.min.js"></script>

	<script type="text/javascript">
		var sticky = new Sticky('.sticky');
		sticky.update();
	</script>

	<script type="text/javascript">
		var confirmModal = new bootstrap.Modal(document.getElementById('confirmModal'), {
		  keyboard: false
		})
	</script>
	
	<script type="text/javascript">

		(function () {
		  'use strict'
		  var forms = document.querySelectorAll('.needs-validation')
		  Array.prototype.slice.call(forms)
		    .forEach(function (form) {
		      form.addEventListener('submit', function (event) {
		        if (!form.checkValidity()) {
		          event.preventDefault()
		          event.stopPropagation()

		          confirmModal.show()
		        }

		        form.classList.add('was-validated')
		      }, false)
		    })
		})()
	</script>



	<script type="text/javascript">
		$('.btn-addInput').on('click',function(){
			var title = $(this).closest('.title-g');
			var subnumber = title.find('.g-input').length + 1;
			var div = title.find('.g-input:first-child').clone();
			div.find('.btn-delete-input').removeClass('invisible');
			div.find('.subnumber').text(subnumber);
			div.find('input').val('')
			$( div ).insertBefore( $(this) );
		})
		$('.title-g').on('click','.btn-delete-input',function(){

			var titleid = $(this).closest('.title-g').prop('id');

			$(this).closest('.g-input').remove();

			$('#'+titleid+ ' .g-input').each(function( index ) {
				$(this).find('.subnumber').text(index + 1)
			});

		})
	</script>


	<script type="text/javascript">
		$('.btn-addInput-table').on('click',function(){

			var title = $(this).closest('.title-g');
			var name = $(this).closest('.title-g').attr('data-title');
			var number = title.find('tbody tr').length + 1;
			var div = title.find('tbody tr:first-child').clone();
			div.find('.btn-delete-input').removeClass('invisible');
			div.find('.inputnumber-s2').text(number);
			div.find('input').val('')
			div.find('textarea').val('')

			var id1 = makeid(5)+"-c1"
			var id2 = makeid(5)+"-c2"
			var id3 = makeid(5)+"-c3"

			div.find('.btn-check').attr('name',name+'['+title.find('tbody tr').length+']')
			div.find('.measure-g1').find('input').attr('id',id1)
			div.find('.measure-g1').find('.btn').attr('for',id1)
			div.find('.measure-g2').find('input').attr('id',id2)
			div.find('.measure-g2').find('.btn').attr('for',id2)

			title.find('table').find('tbody').append(div)

		})
		$('table tbody').on('click','.btn-delete-input',function(){

			var titleid = $(this).closest('.title-g').prop('id');

			$(this).closest('tr').remove();

			$('#'+titleid+ ' tbody tr').each(function( index ) {
				$(this).find('.inputnumber-s2').text(index + 1)
			});

		})

		function makeid(length) {
		    var result           = '';
		    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
		    var charactersLength = characters.length;
		    for ( var i = 0; i < length; i++ ) {
		      result += characters.charAt(Math.floor(Math.random() * 
		 charactersLength));
		   }
		   return result;
		}

	</script>


	


	<script type="text/javascript">
		$(document).ready(function() {
		    $('.select2').select2({
		    	minimumResultsForSearch: -1,
		    	"language": {
				    "noResults": function(){
				        return '<div class="fs-12 py-2">ไม่พบข้อมูล</div>';
				    }
				},
			    escapeMarkup: function (markup) {
			        return markup;
			    }
		    });
		});
	</script>

	<script>
        $(document).ready(function (){
            $("#progress li").click(function (){
            	$("#progress li div").removeClass('activated')
            	for(i=0;i<=$(this).index();i++){
            		$("#progress li:nth-child("+i+")").find('div').addClass('activated')
            	}
            	var ids = $(this).attr('data-elId')
            	$(this).find('.node').addClass('activated')
                $('html, body').animate({
                    scrollTop: $(ids).offset().top-400
                }, 0);
            });

            $(function(){
			  $(window).scroll(function(){
			    var el1 = $('#el1').height();
			    var el2 = $('#el2').offset().top - (screen.height - 100);
			    var el3 = $('#el3').offset().top - (screen.height - 100);
			    var el4 = $('#el4').offset().top - (screen.height - 100);

			    if($(this).scrollTop()>=el2){
			    	$("#progress li:nth-child(2)").find('div').addClass('activated')
			    	$("#progress li:nth-child(3)").find('div').addClass('activated')
			    }else{
			    	$("#progress li:nth-child(2)").find('div').removeClass('activated')
			    	$("#progress li:nth-child(3)").find('div').removeClass('activated')
			    }

			     if($(this).scrollTop()>=el3){
			    	$("#progress li:nth-child(4)").find('div').addClass('activated')
			    	$("#progress li:nth-child(5)").find('div').addClass('activated')
			    }else{
			    	$("#progress li:nth-child(4)").find('div').removeClass('activated')
			    	$("#progress li:nth-child(5)").find('div').removeClass('activated')
			    }

			    if($(this).scrollTop()>=el4){
			    	$("#progress li:nth-child(6)").find('div').addClass('activated')
			    	$("#progress li:nth-child(7)").find('div').addClass('activated')
			    }else{
			    	$("#progress li:nth-child(6)").find('div').removeClass('activated')
			    	$("#progress li:nth-child(7)").find('div').removeClass('activated')
			    }

			  });
			});
        });
    </script>
    <script type="text/javascript">
		$(document).ready(function() {
		   /*แก้ไข 29/03/2565*/
		   $('#summernote2').summernote({
		   	 height: 400,
		   	 fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New', 'Helvetica', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana', 'Sarabun'],
		   	 fontNamesIgnoreCheck: ['Sarabun'],
		   });
		   /*แก้ไข 29/03/2565*/
		});
	</script>
	
	<script type="text/javascript">
		function validateNumber(event) {
            var key = window.event ? event.keyCode : event.which;
            if (event.keyCode === 8) {
                return true;
            } else if ( key < 48 || key > 57 ) {
                return false;
            } else {
                return true;
            }
        };
        $(document).ready(function(){
            $('.validateNumber').keypress(validateNumber);
        });
	</script>

</body>
</html>