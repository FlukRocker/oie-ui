<!DOCTYPE html>
<html>
<head>
	<title>สศอ</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="../สศอ/assets/images/logo2.png">

    <link href="../สศอ/assets/bootstrap-5.0.1/css/bootstrap.min.css" rel="stylesheet" >
    <link href="../สศอ/assets/plugins/mscrollbar/jquery.mCustomScrollbar.css" rel="stylesheet"/>
    <link href="../สศอ/assets/plugins/sidebar/sidebar.css" rel="stylesheet">
    <link rel="stylesheet" href="../สศอ/assets/css/sidemenu.css">
    <link rel="stylesheet" type="text/css" href="../สศอ/assets/plugins/select2/css/select2.min.css">
    <link href="../สศอ/assets/plugins/summernote/summernote-lite.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../สศอ/assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css">

    <link href="../สศอ/assets/plugins/datatable/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
	<link href="../สศอ/assets/plugins/datatable/css/buttons.bootstrap4.min.css" rel="stylesheet">
	<link href="../สศอ/assets/plugins/datatable/css/responsive.bootstrap4.min.css" rel="stylesheet" />
	<link href="../สศอ/assets/plugins/datatable/css/jquery.dataTables.min.css" rel="stylesheet">
	<link href="../สศอ/assets/plugins/datatable/css/responsive.dataTables.min.css" rel="stylesheet">
	<link href="../สศอ/assets/plugins/daterangepicker/daterangepicker.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="../สศอ/assets/css/dropify.css">

    <link rel="stylesheet" type="text/css" href="../สศอ/assets/css/style.css">
</head>
<!-- <body class="main-body app sidebar-mini "> -->
<body class="main-body app sidebar-mini sidenav-toggled">

	<div class="page">
		<div class="app-sidebar__overlay" data-toggle="sidebar"></div>
		<aside class="app-sidebar sidebar-scroll app-sidebar-be">
			<div class="main-sidebar-header p-3 active">
				<a class="desktop-logo active" href="">
					<img src="../สศอ/assets/images/logo3.png" class="main-logo" alt="logo">
				</a>
				<a class="logo-icon mobile-logo py-3 icon-light active" href="">
					<img src="../สศอ/assets/images/logo2.png" class="logo-icon mx-auto" alt="logo">
				</a>
			</div>
			<div class="main-sidemenu">
				<ul class="side-menu">
					<li class="slide">
						<a class="side-menu__item py-2 "  data-toggle="slide"  href="#">
							<img src="../สศอ/assets/images/icon/sidemenu/entypo_bar-graph.png" class="side-menu__icon">
							<span class="side-menu__label">Dashbord</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">สำหรับผู้บริหาร</a></li>
							<li><a class="slide-item py-2" href="/">ข้อมูลคำของบประมาณ</a></li>
							<li><a class="slide-item py-2" href="/">การติดตามผลการดำเนินงาน</a></li>
							<li><a class="slide-item py-2" href="/">การประเมินผลงาน</a></li>
						</ul>
					</li>

					<li class="slide">
						<a class="side-menu__item py-2"   data-toggle="slide" href="#">
							<img src="../สศอ/assets/images/icon/sidemenu/line-md_document-report.png" class="side-menu__icon">
							<span class="side-menu__label">โครงการ</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">รายงานผลการดำเนินงาน</a></li>
							<li><a class="slide-item py-2" href="/">รายงานผลการดำเนินงาน<br/>(ตามเป้าหมาย แนวทาง และตัวชี้วัด) </a></li>
							<li><a class="slide-item py-2" href="/">สรุปผลการประเมินผลโครงการ </a></li>
							<li><a class="slide-item py-2" href="/">สรุปผลการกำกับติดตาม <br/> การเบิกจ่ายงบประมาณ </a></li>
							<li><a class="slide-item py-2" href="/">สรุปผลการกำกับติดตาม<br/> การงานตามตัวชี้วัด </a></li>
						</ul>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"   data-toggle="slide" href="#">
							<img src="../สศอ/assets/images/icon/sidemenu/jam_write-f.png" class="side-menu__icon">
							<span class="side-menu__label">โครงการ</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">จัดการข้อเสนอโครงการ</a></li>
							<li><a class="slide-item py-2" href="/">จัดการข้อเสนอโครงการร่างพรบ.</a></li>
							<li><a class="slide-item py-2" href="/">ติดตามความก้าวหน้า </a></li>
						</ul>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"   data-toggle="slide" href="#">
							<img src="../สศอ/assets/images/icon/sidemenu/bi_folder-fill.png" class="side-menu__icon">
							<span class="side-menu__label">ข้อมูลหน่วยงาน</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">หน่วยงานทั้งหมด</a></li>
							<li><a class="slide-item py-2" href="/">ตั้งค่าหน่วยงาน.</a></li>
						</ul>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"  href="/">
							<img src="../สศอ/assets/images/icon/sidemenu/mdi_email.png" class="side-menu__icon">
							<span class="side-menu__label">จัดการข่าวประชาสัมพันธ์</span>
						</a>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"   data-toggle="slide" href="#">
							<img src="../สศอ/assets/images/icon/sidemenu/fa_user-solid.png" class="side-menu__icon">
							<span class="side-menu__label">จัดการสิทธิ์และผู้ใช้งาน</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">จัดการผู้ใช้งาน</a></li>
							<li><a class="slide-item py-2" href="/">จัดการสิทธิ์การใช้งาน</a></li>
						</ul>
					</li>
					<li class="slide">
						<a class="side-menu__item py-2"   data-toggle="slide" href="#">
							<img src="../สศอ/assets/images/icon/sidemenu/ci_settings-filled.png" class="side-menu__icon">
							<span class="side-menu__label">ตั้งค่าทั่วไป</span>
						</a>
						<ul class="slide-menu py-0">
							<li><a class="slide-item py-2" href="/">จัดการแผนงาน</a></li>
							<li><a class="slide-item py-2" href="/">จัดการแผนแม่บทฯ</a></li>
							<li><a class="slide-item py-2" href="/">จัดการยุทธศาสตร์</a></li>
							<li><a class="slide-item py-2" href="/">จัดการหน่วยนับ</a></li>
							<li><a class="slide-item py-2" href="/">ตั้งค่าระยะเวลาดำเนินการ</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</aside>
		<div class="main-content app-content">
			
			<nav class="navbar fixed-top navbar-st-1">
			  <div class="container-fluid">
			    <div class="app-sidebar__toggle mx-0" data-toggle="sidebar">
					<a class="open-toggle" href="#"></i></a>
					<a class="close-toggle" href="#"></a>
				</div>

		
			    <div class="dropdown">
				  <a class="btn  dropdown-toggle-1 pe-5" href="#" role="button" id="" data-bs-toggle="dropdown" aria-expanded="false">
				  	<div class="d-flex align-items-center">
				  		<img src="../สศอ/assets/images/Avatar.png" class="Avatar">
				  		<div class="text-color-6 fs-14 spacing-1 ms-2">พีรยา ปัญญาโชจน์</div>
				  	</div>
				  </a>
				  <ul class="dropdown-menu" >
				    <li><a class="dropdown-item text-color-6 fs-14 spacing-1 ms-2" href="#">ออกจากระบบ</a></li>
				  </ul>
				</div>
			  </div>
			</nav>
			<div class="container-fluid">

				<div class="fixed-custom-1 pt-4  px-4">
					<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" >
					  <ol class="breadcrumb fs-16">
					    <li class="breadcrumb-item "><a href="#" class="text-color-7 fw-500 text-decoration-none">Dashbord </a></li>
					    <li class="breadcrumb-item active text-color-1 fw-500" aria-current="page">ข้อมูลหน่วยงานทั้งหมด</li>
					  </ol>
					</nav>
				</div>

				<div class="pt-4 pb-4"></div>



				<a href="" class="btn btn-st-2 px-2 mb-4" data-bs-toggle="modal" data-bs-target="#createMinistryModal">เพิ่มกระทรวง</a>
				<a href="" class="btn btn-st-9 px-2 mb-4" data-bs-toggle="modal" data-bs-target="#createAgencyModal">เพิ่มหน่วยงาน</a>

				<div class="row">
					<div class="col">

						<div class="card card-st-3  mb-4 " style="">
							<div class="card-body px-3 py-0">
								
								<div class="table-tools d-flex pb-1 flex-wrap align-items-center">

									<button class="btn btn-st-11 btn-export  btn-control   me-auto mb-2 " id="" >
										<img src="../สศอ/assets/images/icon/carbon_export.png" class="mt-n1" width="24"> นำข้อมูลออก
									</button>

				
	
									<div class="mb-2">
										<input type="search" name="" id="search" class="form-control form-st-1" placeholder="ค้นชื่อกระทรวง / ชื่อหน่วยงาน" style="min-width: 240px;">
									</div>
								</div>
								<div class="py-2"></div>
								<table class="table" id="list-table">
									<thead >
										<tr>
											<th class="py-1 ">
												<div class="form-check form-check-st-1">
					  								<input class="form-check-input check-input-all" type="checkbox"  >
												</div>
											</th>
											<th class="py-1">รหัสหน่วยงาน</th>
											<th class="py-1 select2-filter">
												กระทรวง
												<select class="select2-ministry" name="">
													<option value="" selected="">แสดงทั้งหมด</option>
													<option value="กระทรวงอุตสาหกรรม">กระทรวงอุตสาหกรรม</option>
													<option value="กระทรวงการอุดมศึกษา วิทยาศาสตร์ วิจัย และนวัตกรรม">กระทรวงการอุดมศึกษา วิทยาศาสตร์ วิจัย และนวัตกรรม</option>
												</select>
											</th>
											<th class="py-1">จำนวนโครงการ</th>
											<th class="py-1">งบประมาณ</th>
											<th class="py-1 select2-filter">
												สถานะ
												<select class="select2-status" name="">
													<option value="" selected="">แสดงทั้งหมด</option>
													<option value="เปิดใช้งาน">เปิดใช้งาน</option>
													<option value=" ปิดใช้งาน"> ปิดใช้งาน</option>
												</select>
											</th>
											<th class="py-1">เรียงลำดับ</th>
										</tr>
									</thead>
									<tbody></tbody>
									<tfoot>
										<tr>
					
											<td colspan="3" style="background: #E8F9FF;" class="border-0 ">
												<div class="text-start fs-14">ทั้งหมด <span class="fw-bold me-2"><span class="ministry_sum">8</span> กระทรวง</span> <span class="agency_sum fw-bold">16</span> หน่วยงาน</div>
											</td>
											<td colspan="1" style="background: #E8F9FF;" class="border-0">
												<div class="text-start fs-14">ยอดรวมสุทธิ <span class="project_sum fw-bold ms-2"></span><span class="fw-bold "> โครงการ</span></div>
											</td>
											<td  style="background: #E8F9FF;" class="border-0 text-end pe-2">
												<div class="text-end fs-14 ">ยอดรวมสุทธิ <span class="fw-bold ms-2 budget_sum">856,585,200</span></div>
											</td>
											<td colspan="2" style="background: #E8F9FF;" class="border-0"></td>
										</tr>
									</tfoot>
								</table>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>

	</div>

	<div class="modal fade" id="createMinistryModal" tabindex="-1"  aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" style="max-width: 500px;">
	    <div class="modal-content " style="border-radius: 15px;">
	      <div class="modal-body pb-3 px-0">

	      	<form class="needs-validation" novalidate id="form-create-ministry">
		      	<button type="button" class="btn-close btn-close-2" data-bs-dismiss="modal" aria-label="Close"></button>
		      	<div class="px-3">
		        	<div class="text-color-8 fs-16 fw-500 ">เพิ่มกระทรวง</div>
		        </div>

		        <hr style="opacity: 0.1" />
		        <div class="px-3">
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">รหัสหน่วยงาน</label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder=""  required="" readonly="" value="NSM001" >
			        </div>
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">ชื่อกระทรวง (TH) </label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder="ชื่อกระทรวง"  required=""  value="" >
			        </div>
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">ชื่อกระทรวง (EN) </label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder="ชื่อกระทรวง"  required=""  value="" >
			        </div>
			        <div class="d-flex align-items-center mb-4">
			        	<div class="fs-16 text-color-8 me-4 mb-1">สถานะการใช้งาน</div>
			        	<div class="plan-status-check">
			        		<input type="checkbox" name="plan_status" class="hide-input" id="main-plan">
			        		<label for="main-plan"></label>
			        	</div>
			        </div>
			        <div class="fw-light fs-16 mb-5">
			        	<span class="me-3">วันที่สร้าง</span>
			        	<span class="text-color-1 me-3">18/03/2565</span>
			        	<span class="me-3">ผู้สร้าง</span>
			        	<span class="text-color-1">นางสาวเบญจวรรณ บัวพิทักษ์</span>
			        </div>
			    </div>
			    <hr style="opacity: 0.1" />
		        <div class="px-3">
			        <div class="text-center d-flex flex-wrap justify-content-end">
			        	<button type="button" class="btn btn-link text-color-8 text-decoration-none mx-2 mb-2" data-bs-dismiss="modal">ยกเลิก</button>
			        	<button class="btn btn-st-2 mx-2  mb-2 px-0 " style="min-width: 80px;">บันทึก</button>
			        </div>
		        </div>
	        </form>

	      </div>
	    </div>
	  </div>
	</div>

	<div class="modal fade" id="createAgencyModal" tabindex="-1"  aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" style="max-width: 500px;">
	    <div class="modal-content " style="border-radius: 15px;">
	      <div class="modal-body pb-3 px-0">

	      	<form class="needs-validation" novalidate id="form-create-agency">
		      	<button type="button" class="btn-close btn-close-2" data-bs-dismiss="modal" aria-label="Close"></button>
		      	<div class="px-3">
		        	<div class="text-color-8 fs-16 fw-500 ">เพิ่มหน่วยงาน</div>
		        </div>

		        <hr style="opacity: 0.1" />
		        <div class="px-3">
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">รหัสหน่วยงาน</label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder=""  required="" readonly="" value="NSM001" >
			        </div>
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">กระทรวง</label>
			        	<select class="select2-ministry-modal">
			        		<option value="1">กระทรวง 1</option>
			        	</select>
		
			        </div>

			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">ชื่อหน่วยงาน (TH) <span class="text-danger">*</span> </label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder="กรุณากรอกชื่อหน่วยงาน (TH)"  required=""  value="" >
			        </div>
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">ชื่อหน่วยงาน (EN)</label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder="กรุณากรอกชื่อหน่วยงาน (EN)"  required=""  value="" >
			        </div>
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">อักษรย่อหน่วยงาน</label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder="กรุณากรอกอักษรย่อหน่วยงาน"  required=""  value="" >
			        </div>
			        <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">อักษรย่อหน่วยงานในระบบ <span style="color: rgba(44, 44, 44, .5);">(3 ตัวอักษร)</span></label>
			        	<input type="text" name="" class="form-control form-st-1 " placeholder="กรุณากรอกอักษรย่อหน่วยงานในระบบ"  required=""  value="" >
			        </div>
			         <div class="mb-4">
			        	<label class="text-dark fs-16 mb-2 fw-light">ภาพ Logo หน่วยงาน <span style="color: rgba(44, 44, 44, .5);">(ขนาด 300x300 px)</span></label>
			        	<input type="file" class="dropify form-control" data-max-file-size="5M" data-allowed-file-extensions="jpg jpeg png" id="file-upload-1" accept=".jpg,.png,.jpeg" multiple="" required="" />
			        </div>

			        <div class="d-flex align-items-center mb-4">
			        	<div class="fs-16 text-color-8 me-4 mb-1">สถานะการใช้งาน</div>
			        	<div class="plan-status-check">
			        		<input type="checkbox" name="plan_status" class="hide-input" id="main-plan">
			        		<label for="main-plan"></label>
			        	</div>
			        </div>
			        <div class="fw-light fs-16 mb-5">
			        	<span class="me-3">วันที่สร้าง</span>
			        	<span class="text-color-1 me-3">18/03/2565</span>
			        	<span class="me-3">ผู้สร้าง</span>
			        	<span class="text-color-1">นางสาวเบญจวรรณ บัวพิทักษ์</span>
			        </div>
			    </div>
			    <hr style="opacity: 0.1" />
		        <div class="px-3">
			        <div class="text-center d-flex flex-wrap justify-content-end">
			        	<button type="button" class="btn btn-link text-color-8 text-decoration-none mx-2 mb-2" data-bs-dismiss="modal">ยกเลิก</button>
			        	<button class="btn btn-st-2 mx-2  mb-2 px-0 " style="min-width: 80px;">บันทึก</button>
			        </div>
		        </div>
	        </form>

	      </div>
	    </div>
	  </div>
	</div>

	<div class="modal fade" id="successModal" tabindex="-1"  aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" style="max-width: 400px;">
	    <div class="modal-content " style="border-radius: 15px;">
	      <div class="modal-body pb-5">

		      	<button type="button" class="btn-close btn-close-2" data-bs-dismiss="modal" aria-label="Close"></button>
		        
		        <div class="text-center pt-5 pb-4">
		        	<div class="mx-auto i-success" style="">
						<svg width="28" height="20" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M3 10L10.3333 17.5L25 2.5" stroke="#4AD991" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
		        	</div>
		        </div>
		        <div class="text-center fw-bold fs-20 mb-2">บันทึกข้อมูลสำเร็จ</div>
		        <div class="text-center fs-18">ระบบทำการบันทึกข้อมูลเรียบร้อยแล้ว</div>

	      </div>
	    </div>
	  </div>
	</div>



	<!-- End Page -->

	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script src="../สศอ/assets/plugins/moment/moment.js"></script>
	<script src="../สศอ/assets/bootstrap-5.0.1/js/bootstrap.bundle.min.js" ></script> 
	<script src="../สศอ/assets/plugins/mscrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="../สศอ/assets/plugins/side-menu/sidemenu.js"></script>
	<script src="../สศอ/assets/plugins/sidebar/sidebar.js"></script>
	<script src="../สศอ/assets/plugins/sidebar/sidebar-custom.js"></script>
	<script src="../สศอ/assets/plugins/select2/js/select2.min.js" ></script> 
	<script src="../สศอ/assets/plugins/summernote/summernote-lite.min.js"></script>
	<script type="text/javascript" src="../สศอ/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>

	<script src="../สศอ/assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/dataTables.dataTables.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/dataTables.responsive.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/responsive.dataTables.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/jquery.dataTables.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/dataTables.bootstrap4.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/dataTables.buttons.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/buttons.bootstrap4.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/jszip.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/pdfmake.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/vfs_fonts.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/buttons.html5.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/buttons.print.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/buttons.colVis.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/dataTables.responsive.min.js"></script>
	<script src="../สศอ/assets/plugins/datatable/js/responsive.bootstrap4.min.js"></script>

	<script src="../สศอ/assets/js/dataTables.rowReorder.min.js"></script>

	<script src="../สศอ/assets/plugins/daterangepicker/daterangepicker.js"></script>

	<script src="../สศอ/assets/js/dropify.js" ></script> 
	<script type="text/javascript">
    	var successModal = new bootstrap.Modal(document.getElementById('successModal'), {
		  keyboard: false
		})
		var createMiModalEl = document.getElementById('createMinistryModal')
		var createMiModal = new bootstrap.Modal(createMiModalEl, {
		  keyboard: false
		})


		var createAgencyModalEl = document.getElementById('createAgencyModal')
		var createAgencyModal = new bootstrap.Modal(createAgencyModalEl, {
		  keyboard: false
		})

	</script>

	<script type="text/javascript">
		var drEvent =  $('.dropify').dropify({
		    tpl: {
		        wrap:            '<div class="dropify-wrapper dropify-wrapper-st-1 " style="border: 2px dashed #B7B7B7;"></div>',
		        loader:          '<div class="dropify-loader"></div>',
		        message:         '<div class="dropify-message"><span class="" /><div class="text-center fs-18 mb-2" style="color: #11142D;font-weight:500">กรุณาอัปโหลดรูปภาพ</div><div class="text-center fs-12 mb-3">รองรับ jpeg. png. ขนาด 300 x 300 px ขนาดไม่เกิน 1 MB</div><div class="text-center mt-3 mb-1 d-flex align-items-center justify-content-center"> <button class="btn btn-upload-dropify  py-1 text-white " style="background: #FC8004;border-radius: 16px;">อัพโหลดรูปภาพ</button></div> </div>',
		        preview:'<label class="dropify-preview" for="drop-1"><span class="dropify-render"><div class="fildrop"></div></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></label>',
		        filename:        '<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',
		        clearButton:     '<p class="dropify-clear">ลบรูปภาพ</p>',
		        errorLine:       '<p class="dropify-error">{{ error }}</p>',
		        errorsContainer: '<div class="dropify-errors-container"><ul></ul></div>'
		    }
		});
	</script>

	<script type="text/javascript">
		$.fn.dataTable.Api.register( 'sum()', function ( ) {
			return this.flatten().reduce( function ( a, b ) {
				if ( typeof a === 'string' ) {
					a = a.replace(/[^\d.-]/g, '') * 1;
				}
				if ( typeof b === 'string' ) {
					b = b.replace(/[^\d.-]/g, '') * 1;
				}

				return a + b;
			}, 0 );
		} );

	</script>
	<script type="text/javascript">

		var myData3 = [
		    {
		        "id": 1,
		        "ministry_code":"INS00001",
		        "ministry_name":{"image":"../สศอ/assets/images/ministry/ministry-2.png","name":"กระทรวงการอุดมศึกษา วิทยาศาสตร์ วิจัย และนวัตกรรม"},
		        "project_qty": 10,
		        "budget": '4000',
		        "status":0,
		        "agency": [
		        	{
		        		"agency_code":"INS00001-1",
		        		"agency_name":{"image":"../สศอ/assets/images/ministry/ministry-2.png","name":"กรมโรงงานอุตสาหกรรม"},
		        		"project_qty":5,
		        		"budget":'2000',
		        		"status":0,
		        	},
		        	{
		        		"agency_code":"INS00001-2",
		        		"agency_name":{"image":"../สศอ/assets/images/ministry/ministry-2.png","name":"กรมส่งเสริมอุตสาหกรรม"},
		        		"project_qty":5,
		        		"budget":'2000',
		        		"status":0,
		        	}
		        ]
		        
		    },
		    {
		        "id": 2,
		        "ministry_code":"INS00002",
		        "ministry_name":{"image":"../สศอ/assets/images/ministry/ministry-1.png","name":"กระทรวงอุตสาหกรรม"},
		        "project_qty": 4,
		        "budget": '5000',
		        "status": 1,
		        "agency": [
		        	{
		        		"agency_code":"INS00002-1",
		        		"agency_name":{"image":"../สศอ/assets/images/ministry/ministry-1.png","name":"กรมโรงงานอุตสาหกรรม"},
		        		"project_qty":2,
		        		"budget":'2500',
		        		"status":1
		        		,
		        	},
		        	{
		        		"agency_code":"INS00002-2",
		        		"agency_name":{"image":"../สศอ/assets/images/ministry/ministry-1.png","name":"กรมส่งเสริมอุตสาหกรรม"},
		        		"project_qty":2,
		        		"budget":'2500',
		        		"status":0,
		        	}
		        ]
		        
		    },
		    {
		        "id": 3,
		        "ministry_code":"INS00003",
		        "ministry_name":{"image":"../สศอ/assets/images/ministry/ministry-1.png","name":"กระทรวงอุตสาหกรรม"},
		        "project_qty": 15,
		        "budget": '2000',
		        "status":1,
		        "agency": [
		        	{
		        		"agency_code":"INS00003-1",
		        		"agency_name":{"image":"../สศอ/assets/images/ministry/ministry-1.png","name":"กรมโรงงานอุตสาหกรรม"},
		        		"project_qty":10,
		        		"budget":'1000',
		        		"status":1
		        		,
		        	},
		        	{
		        		"agency_code":"INS00003-2",
		        		"agency_name":{"image":"../สศอ/assets/images/ministry/ministry-1.png","name":"กรมส่งเสริมอุตสาหกรรม"},
		        		"project_qty":5,
		        		"budget":'1000',
		        		"status":0,
		        	}
		        ]
		        
		    },


		];

	
							

		var table =	$('#list-table').DataTable({
	        // scrollX:        true,
	        // scrollCollapse: true,
			data: myData3,
		    columns: [
		        { data: 'id' },
		        { data: 'ministry_code' },
		        { data: 'ministry_name' },
		        { data: 'project_qty' },
		        { data: 'budget' },
		        { data: 'status' },
		        { data: 'id' }
		    ],
		    columnDefs : [
		    	{ targets : [0],className:"text-center align-middle ","width": "5%",
		    		render : function (data, type, row) {
			          	var html = "";
			          	html += '<div class="form-check form-check-st-1"><input class="form-check-input check-input" type="checkbox" value="'+data+'" ></div>';
			            return html;
			        }
		    	},
		        { targets : [1],className:"align-middle text-left","width": "10%",
		        	render : function (data, type, row) {
			          	
			            var html = "";
			          	html += '<a href="/'+data+'" target="_blank" class="alink-st-1"  >'+data+'</a>';
			            return html;
			        }
		    	},
		        { targets : [2],className:"align-middle text-left details-control","width": "25%",
		        	render : function (data, type, row) {
			          	var html = "";
			          	html += '<div class="d-flex align-items-center">'
			          	html += '<div class="ministry-logo me-2"><img src="'+data.image+'" class=""></div>'
			          	html += '<div class="">'+data.name+'</div>'
			          	html += '</div>'
			            return html;
			        }
		    	}
		    	,
		        { targets : [3],className:"align-middle text-center","width": "15%"
		    	},
		    	{ targets : [4],className:"align-middle text-end","width": "15%",
		    		render : function (data, type, row) {
			          	
			            var html = "";
			          	html += data.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
			            return html;
			        }

		    		
		    	},
		    	{ targets : [5],className:"align-middle text-center","width": "15%",
		    		render : function (data, type, row) {
			          	var html = "";
			          	html += '<div class="unitstatus-table">'
			          	if(data == 0){
			          		html += '<div class="unit-status status-0 text-center"> ปิดใช้งาน</div>'
			          	}else if(data == 1){
			          		html += '<div class="unit-status status-1 text-center">เปิดใช้งาน</div>'
			          	}
			          	
			          	html += '</div>'
			            return html;
			        }
		    	},
		    	{ targets : [6],className:"align-middle text-center   ","width": "10%",
		        	render : function (data, type, row) {
			          	var html = "";
			          	html += '<button class="btn btn-sort btn-up"><img src="../สศอ/assets/images/icon/arrow-up.png" width="9" height="15"></button>'
			          	html += '<button class="btn btn-sort mx-2 btn-down"><img src="../สศอ/assets/images/icon/arrow-down.png" width="9" height="15"></button>'
			          	html += '<button class="btn btn-sort move-selector"><img src="../สศอ/assets/images/icon/move-selector.png" width="14" height="14"></button>'
			            return html;
			        }	
		    	}
				  				
							  			
		    ],
			language: {
				searchPlaceholder: 'ค้นหา เลขที่, ชื่อผู้จำหน่าย',
				sSearch: '',
				lengthMenu: '_MENU_',
				oPaginate: {
			   		sNext: '<i class="fa fa-chevron-right"></i>',
			   		sPrevious: '<i class="fa fa-chevron-left"></i>',
			   		sFirst: '<i class="fa fa-chevron-left"></i>',
			   		sLast: '<i class="fa fa-chevron-right"></i>'
			    }
			},
			aLengthMenu: [
		        [10,25, 50, 100, 200, -1],
		        [10,25, 50, 100, 200, "All"]
		    ],
		    iDisplayLength:-1,
			"ordering": false,
			"dom": '<<t>ilp>',
			rowReorder: {
	            selector: '.move-selector',
	            dataSrc:'ministry_code'
	        },
		    'drawCallback': function (settings) {
		        $('.btn-up').unbind('click');
		        $('.btn-down').unbind('click');
		        $('.btn-up').click(moveRowUp);
		        $('.btn-down').click(moveRowDown);

		        var api = this.api();
			    $('.project_sum').html(
			        api.column( 3, {page:'current'} ).data().sum().toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")
			    );
			    $('.budget_sum').html(
			        (api.column( 4, {page:'current'} ).data().sum()).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")
			    );

			    $('.ministry_sum').html(
			        api.rows( ).count()
			    );

			    var rowData = api.rows( ).data();
			    var agency_sum = 0;
			    $.each(rowData, function(i, item) {
					agency_sum += rowData[i].agency.length
			    })

			    $('.agency_sum').html(
			        agency_sum
			    );
	
			    

		    }
			
		});

	

		function moveRowUp() {
		    var row = $(this).parents('tr');
		    var index = table.row(row).index();

		    var data1 = table.row(index).data();
		    var data2 = table.row(index - 1).data();
		    console.log(data2);


		    var rowDt = table.row( row );
		    rowDt.child( format( rowDt.data() ) ).show();

		    table.row(index).data(data2).draw();
		    table.row(index - 1).data(data1).draw();
		}

		function moveRowDown() {
		    var row = $(this).parents('tr');
		    var index = table.row(row).index();

		    var data1 = table.row(index).data();
		    var data2 = table.row(index + 1).data();

		    table.row(index).data(data2).draw();
		    table.row(index + 1).data(data1).draw();

		    var rowDt = table.row( row );
		    rowDt.child( format( rowDt.data() ) ).show();
		}



		var detailRows = [];
 
	    $('#list-table tbody').on( 'click', 'tr td.details-control', function () {
	        var tr = $(this).closest('tr');
	        var row = table.row( tr );
	        var idx = $.inArray( tr.attr('id'), detailRows );
	 
	        if ( row.child.isShown() ) {
	            tr.removeClass( 'details' );
	            row.child.hide();
	            detailRows.splice( idx, 1 );
	        }
	        else {
	            tr.addClass( 'details' );
	            row.child( format( row.data() ) ).show();
	 
	            if ( idx === -1 ) {
	                detailRows.push( tr.attr('id') );
	            }
	        }
	    } );

	    table.on( 'draw', function () {
	        $.each( detailRows, function ( i, id ) {
	            $('#'+id+' td.details-control').trigger( 'click' );
	        } );
	   
	       
	    } );


	    function format ( d ) {

			var html = "";
			html += '<table class="table mb-0">'
			$.each(d.agency, function(i, item) {

				
				html += '<tr>'
				html += '<td width="5%" class="align-middle"><div class="form-check form-check-st-1"><input class="form-check-input check-input" type="checkbox" value="'+d.agency[i].agency_code+'" ></div></td>'
				html += '<td width="10%" class="ps-3 align-middle"><a href="" class="text-color-1">'+d.agency[i].agency_code+'</a></td>'

				html += '<td width="25%" class="align-middle"><div class="ps-5">'
				html += '<div class="d-flex align-items-center">'
	          	html += '<div class="ministry-logo me-2"><img src="'+d.agency[i].agency_name.image+'" class=""></div>'
	          	html += '<div class="">'+d.agency[i].agency_name.name+'</div>'
	          	html += '</div>'
				html += '</td>'



				html += '<td width="15%" class="align-middle"><div class="text-center ps-4"><span class="ps-2"></span>'+d.agency[i].project_qty+'</div></td>'
				html += '<td width="15%" class="align-middle"><div class="text-end">'+d.agency[i].budget+'</div></td>'


	          	if(d.agency[i].status == 0){
	          		html += '<td width="15%" class="align-middle"><div class="unitstatus-table"><div class="unit-status status-0 text-center">ปิดใช้งาน</div></div></td>'
	          	}else if(d.agency[i].status == 1){
	          		html += '<td width="15%" class="align-middle"><div class="unitstatus-table"><div class="unit-status status-1 text-center">เปิดใช้งาน</div></div></td>'
	          	}
	

				html += '<td width="10%"><div></div></td>'
				html += '</tr>'

			    // console.log(d.quarter[i].quarter_code);
			});
			html += '</table>'
		    return html;
		}


		$('#search').keyup(function(){
		      table.search($(this).val()).draw() ;
		})


		$(".select2-ministry").select2({
				minimumResultsForSearch: Infinity
		});
		$('.select2-ministry').on('select2:select', function (e) {
		    var data = e.params.data;
		    var text = data.text;
		    if(data.text == 'แสดงทั้งหมด'){
		    	text = '';
		    }
		    table.column(2).search( text,true, false, true  ).draw();
		});

		$(".select2-status").select2({
				minimumResultsForSearch: Infinity
		});
		$('.select2-status').on('select2:select', function (e) {
		    var data = e.params.data;
		    var text = data.text;
		    if(data.text == 'แสดงทั้งหมด'){
		    	text = '';
		    }
		    table.column(5).search( text,true, false, true  ).draw();
		});



	</script>

	<script type="text/javascript">
		$('.check-input-all').on('click',function() {
		    if($(this).is(':checked')){
		    	$('.check-input').prop('checked',true);
		    }else{
		    	$('.check-input').prop('checked',false);
		    }
		});
	</script>


	<script type="text/javascript">
		$( "#form-create-ministry" ).submit(function( event ) {
	    	var form = $(this);
	    	if (!form[0].checkValidity()) {
	           	event.preventDefault()
	          	event.stopPropagation()
	        }else{
	        	event.preventDefault()
	          	event.stopPropagation()
	          	createMiModal.hide()
	        	successModal.show()

	        }
	        form.addClass('was-validated')
		});

		$( "#form-create-agency" ).submit(function( event ) {
	    	var form = $(this);
	    	if (!form[0].checkValidity()) {
	           	event.preventDefault()
	          	event.stopPropagation()
	        }else{
	        	event.preventDefault()
	          	event.stopPropagation()
	          	createAgencyModal.hide()
	        	successModal.show()

	        }
	        form.addClass('was-validated')
		});
	</script>

	<script type="text/javascript">
		$(".select2-ministry-modal").select2({
				minimumResultsForSearch: Infinity,
				dropdownParent: $("#createAgencyModal")
		});
	</script>

</body>
</html>